{"version":3,"file":"monaco-collab-ext.min.js","sources":["monaco-collab-ext.js"],"sourcesContent":["/**!\nÂ© 2019 Convergence Labs, Inc.\n@version 0.4.0\n@license MIT\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"monaco-editor\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"MonacoCollabExt\", [\"vs/editor/editor.main\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MonacoCollabExt\"] = factory(require(\"monaco-editor\"));\n\telse\n\t\troot[\"MonacoCollabExt\"] = factory(root[\"monaco\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nexports.__esModule = true;\n/**\n * A helper class to aid in input validation.\n *\n * @internal\n */\nvar Validation = /** @class */ (function () {\n    function Validation() {\n    }\n    Validation.assertString = function (val, name) {\n        if (typeof val !== \"string\") {\n            throw new Error(name + \" must be a string but was: \" + val);\n        }\n    };\n    Validation.assertNumber = function (val, name) {\n        if (typeof val !== \"number\") {\n            throw new Error(name + \" must be a number but was: \" + val);\n        }\n    };\n    Validation.assertDefined = function (val, name) {\n        if (val === undefined || val === null) {\n            throw new Error(name + \" must be a defined but was: \" + val);\n        }\n    };\n    Validation.assertFunction = function (val, name) {\n        if (typeof val !== \"function\") {\n            throw new Error(name + \" must be a function but was: \" + typeof val);\n        }\n    };\n    Validation.assertPosition = function (val, name) {\n        Validation.assertDefined(val, name);\n        if (typeof val.lineNumber !== \"number\" || typeof val.column !== \"number\") {\n            throw new Error(name + \" must be an Object like {lineNumber: number, column: number}: \" + JSON.stringify(val));\n        }\n    };\n    return Validation;\n}());\nexports.Validation = Validation;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar monaco = __webpack_require__(1);\nvar Validation_1 = __webpack_require__(0);\n/**\n * The EditorContentManager facilitates listening to local content changes and\n * the playback of remote content changes into the editor.\n */\nvar EditorContentManager = /** @class */ (function () {\n    /**\n     * Constructs a new EditorContentManager using the supplied options.\n     *\n     * @param options\n     *   The options that configure the EditorContentManager.\n     */\n    function EditorContentManager(options) {\n        var _this = this;\n        /**\n         * A helper method to process local changes from Monaco.\n         *\n         * @param e\n         *   The event to process.\n         * @private\n         * @internal\n         */\n        this._onContentChanged = function (e) {\n            if (!_this._suppress) {\n                e.changes.forEach(function (change) { return _this._processChange(change); });\n            }\n        };\n        this._options = __assign(__assign({}, EditorContentManager._DEFAULTS), options);\n        Validation_1.Validation.assertDefined(this._options, \"options\");\n        Validation_1.Validation.assertDefined(this._options.editor, \"options.editor\");\n        Validation_1.Validation.assertFunction(this._options.onInsert, \"options.onInsert\");\n        Validation_1.Validation.assertFunction(this._options.onReplace, \"options.onReplace\");\n        Validation_1.Validation.assertFunction(this._options.onDelete, \"options.onDelete\");\n        this._disposer = this._options.editor.onDidChangeModelContent(this._onContentChanged);\n    }\n    /**\n     * Inserts text into the editor.\n     *\n     * @param index\n     *   The index to insert text at.\n     * @param text\n     *   The text to insert.\n     */\n    EditorContentManager.prototype.insert = function (index, text) {\n        this._suppress = true;\n        var _a = this._options, ed = _a.editor, remoteSourceId = _a.remoteSourceId;\n        var position = ed.getModel().getPositionAt(index);\n        ed.executeEdits(remoteSourceId, [{\n                range: new monaco.Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                text: text,\n                forceMoveMarkers: true\n            }]);\n        this._suppress = false;\n    };\n    /**\n     * Replaces text in the editor.\n     *\n     * @param index\n     *   The start index of the range to replace.\n     * @param length\n     *   The length of the  range to replace.\n     * @param text\n     *   The text to insert.\n     */\n    EditorContentManager.prototype.replace = function (index, length, text) {\n        this._suppress = true;\n        var _a = this._options, ed = _a.editor, remoteSourceId = _a.remoteSourceId;\n        var start = ed.getModel().getPositionAt(index);\n        var end = ed.getModel().getPositionAt(index + length);\n        ed.executeEdits(remoteSourceId, [{\n                range: new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column),\n                text: text,\n                forceMoveMarkers: true\n            }]);\n        this._suppress = false;\n    };\n    /**\n     * Deletes text in the editor.\n     *\n     * @param index\n     *   The start index of the range to remove.\n     * @param length\n     *   The length of the  range to remove.\n     */\n    EditorContentManager.prototype[\"delete\"] = function (index, length) {\n        this._suppress = true;\n        var _a = this._options, ed = _a.editor, remoteSourceId = _a.remoteSourceId;\n        var start = ed.getModel().getPositionAt(index);\n        var end = ed.getModel().getPositionAt(index + length);\n        ed.executeEdits(remoteSourceId, [{\n                range: new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column),\n                text: \"\",\n                forceMoveMarkers: true\n            }]);\n        this._suppress = false;\n    };\n    /**\n     * Disposes of the content manager, freeing any resources.\n     */\n    EditorContentManager.prototype.dispose = function () {\n        this._disposer.dispose();\n    };\n    /**\n     * A helper method to process a single content change.\n     *\n     * @param change\n     *   The change to process.\n     * @private\n     * @internal\n     */\n    EditorContentManager.prototype._processChange = function (change) {\n        Validation_1.Validation.assertDefined(change, \"change\");\n        var rangeOffset = change.rangeOffset, rangeLength = change.rangeLength, text = change.text;\n        if (text.length > 0 && rangeLength === 0) {\n            this._options.onInsert(rangeOffset, text);\n        }\n        else if (text.length > 0 && rangeLength > 0) {\n            this._options.onReplace(rangeOffset, rangeLength, text);\n        }\n        else if (text.length === 0 && rangeLength > 0) {\n            this._options.onDelete(rangeOffset, rangeLength);\n        }\n        else {\n            throw new Error(\"Unexpected change: \" + JSON.stringify(change));\n        }\n    };\n    /**\n     * Option defaults.\n     *\n     * @internal\n     */\n    EditorContentManager._DEFAULTS = {\n        onInsert: function () {\n            // no-op\n        },\n        onReplace: function () {\n            // no-op\n        },\n        onDelete: function () {\n            // no-op\n        },\n        remoteSourceId: \"remote\"\n    };\n    return EditorContentManager;\n}());\nexports.EditorContentManager = EditorContentManager;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(4));\n__export(__webpack_require__(7));\n__export(__webpack_require__(2));\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar RemoteCursor_1 = __webpack_require__(5);\nvar RemoteCursorWidget_1 = __webpack_require__(6);\nvar Validation_1 = __webpack_require__(0);\n/**\n * The RemoteCursorManager class is responsible for creating and managing a\n * set of indicators that show where remote users's cursors are located when\n * using Monaco in a collaborative editing context.  The RemoteCursorManager\n * leverages Monaco's Content Widget concept.\n */\nvar RemoteCursorManager = /** @class */ (function () {\n    /**\n     * Creates a new RemoteCursorManager with the supplied options.\n     *\n     * @param options\n     *   The options that will configure the RemoteCursorManager behavior.\n     */\n    function RemoteCursorManager(options) {\n        if (typeof options !== \"object\") {\n            throw new Error(\"'options' is a required parameter and must be an object.\");\n        }\n        // Override the defaults.\n        options = __assign(__assign({}, RemoteCursorManager.DEFAULT_OPTIONS), options);\n        if (options.editor === undefined || options.editor === null) {\n            throw new Error(\"options.editor must be defined but was: \" + options.editor);\n        }\n        this._options = options;\n        this._cursorWidgets = new Map();\n        this._nextWidgetId = 0;\n    }\n    /**\n     * Adds a new remote cursor to the editor.\n     *\n     * @param id\n     *   A unique id that will be used to reference this cursor.\n     * @param color\n     *   The css color that the cursor and tooltip should be rendered in.\n     * @param label\n     *   An optional label for the tooltip. If tooltips are enabled.\n     *\n     * @returns\n     *   The remote cursor widget that will be added to the editor.\n     */\n    RemoteCursorManager.prototype.addCursor = function (id, color, label) {\n        var _this = this;\n        Validation_1.Validation.assertString(id, \"id\");\n        Validation_1.Validation.assertString(color, \"color\");\n        if (this._options.tooltips && typeof \"label\" !== \"string\") {\n            throw new Error(\"'label' is required when tooltips are enabled.\");\n        }\n        var widgetId = \"\" + this._nextWidgetId++;\n        var tooltipDurationMs = this._options.tooltipDuration * 1000;\n        var cursorWidget = new RemoteCursorWidget_1.RemoteCursorWidget(this._options.editor, widgetId, this._options.className, color, label, this._options.tooltips, tooltipDurationMs, this._options.showTooltipOnHover, this._options.tooltipClassName, function () { return _this.removeCursor(id); });\n        this._cursorWidgets.set(id, cursorWidget);\n        return new RemoteCursor_1.RemoteCursor(cursorWidget);\n    };\n    /**\n     * Removes the remote cursor from the editor.\n     *\n     * @param id\n     *   The unique id of the cursor to remove.\n     */\n    RemoteCursorManager.prototype.removeCursor = function (id) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        if (!remoteCursorWidget.isDisposed()) {\n            remoteCursorWidget.dispose();\n        }\n        this._cursorWidgets[\"delete\"](id);\n    };\n    /**\n     * Updates the location of the specified remote cursor using a Monaco\n     * IPosition object..\n     *\n     * @param id\n     *   The unique id of the cursor to remove.\n     * @param position\n     *   The location of the cursor to set.\n     */\n    RemoteCursorManager.prototype.setCursorPosition = function (id, position) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.setPosition(position);\n    };\n    /**\n     * Updates the location of the specified remote cursor based on a zero-based\n     * text offset.\n     *\n     * @param id\n     *   The unique id of the cursor to remove.\n     * @param offset\n     *   The location of the cursor to set.\n     */\n    RemoteCursorManager.prototype.setCursorOffset = function (id, offset) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.setOffset(offset);\n    };\n    /**\n     * Shows the specified cursor. Note the cursor may be scrolled out of view.\n     *\n     * @param id\n     *   The unique id of the cursor to show.\n     */\n    RemoteCursorManager.prototype.showCursor = function (id) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.show();\n    };\n    /**\n     * Hides the specified cursor.\n     *\n     * @param id\n     *   The unique id of the cursor to show.\n     */\n    RemoteCursorManager.prototype.hideCursor = function (id) {\n        Validation_1.Validation.assertString(id, \"id\");\n        var remoteCursorWidget = this._getCursor(id);\n        remoteCursorWidget.hide();\n    };\n    /**\n     * A helper method that gets a cursor by id, or throws an exception.\n     * @internal\n     */\n    RemoteCursorManager.prototype._getCursor = function (id) {\n        if (!this._cursorWidgets.has(id)) {\n            throw new Error(\"No such cursor: \" + id);\n        }\n        return this._cursorWidgets.get(id);\n    };\n    /**\n     * The default values for optional parameters.\n     * @internal\n     */\n    RemoteCursorManager.DEFAULT_OPTIONS = { tooltips: true, tooltipDuration: 1, showTooltipOnHover: false };\n    return RemoteCursorManager;\n}());\nexports.RemoteCursorManager = RemoteCursorManager;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nexports.__esModule = true;\n/**\n * The RemoteCursor class represents a remote cursor in the MonacoEditor. This\n * class allows you to control the location and visibility of the cursor.\n */\nvar RemoteCursor = /** @class */ (function () {\n    /**\n     * Creates a new RemoteCursor.\n     *\n     * @param delegate\n     *   The underlying Monaco Editor widget.\n     * @internal\n     * @hidden\n     */\n    function RemoteCursor(delegate) {\n        this._delegate = delegate;\n    }\n    /**\n     * Gets the unique id of this cursor.\n     *\n     * @returns\n     *   The unique id of this cursor.\n     */\n    RemoteCursor.prototype.getId = function () {\n        return this._delegate.getId();\n    };\n    /**\n     * Gets the position of the cursor.\n     *\n     * @returns\n     *   The position of the cursor.\n     */\n    RemoteCursor.prototype.getPosition = function () {\n        return this._delegate.getPosition().position;\n    };\n    /**\n     * Sets the location of the cursor based on a Monaco Editor IPosition.\n     *\n     * @param position\n     *   The line / column position of the cursor.\n     */\n    RemoteCursor.prototype.setPosition = function (position) {\n        this._delegate.setPosition(position);\n    };\n    /**\n     * Sets the location of the cursor using a zero-based text offset.\n     *\n     * @param offset\n     *   The offset of the cursor.\n     */\n    RemoteCursor.prototype.setOffset = function (offset) {\n        this._delegate.setOffset(offset);\n    };\n    /**\n     * Shows the cursor if it is hidden.\n     */\n    RemoteCursor.prototype.show = function () {\n        this._delegate.show();\n    };\n    /**\n     * Hides the cursor if it is shown.\n     */\n    RemoteCursor.prototype.hide = function () {\n        this._delegate.hide();\n    };\n    /**\n     * Determines if the cursor has already been disposed. A cursor is disposed\n     * when it has been permanently removed from the editor.\n     *\n     * @returns\n     *   True if the cursor has been disposed, false otherwise.\n     */\n    RemoteCursor.prototype.isDisposed = function () {\n        return this._delegate.isDisposed();\n    };\n    /**\n     * Disposes of this cursor, removing it from the editor.\n     */\n    RemoteCursor.prototype.dispose = function () {\n        this._delegate.dispose();\n    };\n    return RemoteCursor;\n}());\nexports.RemoteCursor = RemoteCursor;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar monaco_editor_1 = __webpack_require__(1);\nvar EditorContentManager_1 = __webpack_require__(2);\nvar Validation_1 = __webpack_require__(0);\nfunction getConfiguration(editorInstance) {\n    // Support for Monaco < 0.19.0\n    if (typeof editorInstance.getConfiguration === \"function\") {\n        return editorInstance.getConfiguration();\n    }\n    return {\n        lineHeight: editorInstance.getOption(monaco_editor_1.editor.EditorOption.lineHeight)\n    };\n}\n/**\n * This class implements a Monaco Content Widget to render a remote user's\n * cursor, and an optional tooltip.\n *\n * @internal\n */\nvar RemoteCursorWidget = /** @class */ (function () {\n    function RemoteCursorWidget(codeEditor, widgetId, className, color, label, tooltipEnabled, tooltipDuration, showTooltipOnHover, tooltipClassName, onDisposed) {\n        var _this = this;\n        this._onInsert = function (index, text) {\n            if (_this._position === null) {\n                return;\n            }\n            var offset = _this._offset;\n            if (index <= offset) {\n                var newOffset = offset + text.length;\n                var position = _this._editor.getModel().getPositionAt(newOffset);\n                _this._updatePosition(position);\n            }\n        };\n        this._onReplace = function (index, length, text) {\n            if (_this._position === null) {\n                return;\n            }\n            var offset = _this._offset;\n            if (index <= offset) {\n                var newOffset = (offset - Math.min(offset - index, length)) + text.length;\n                var position = _this._editor.getModel().getPositionAt(newOffset);\n                _this._updatePosition(position);\n            }\n        };\n        this._onDelete = function (index, length) {\n            if (_this._position === null) {\n                return;\n            }\n            var offset = _this._offset;\n            if (index <= offset) {\n                var newOffset = offset - Math.min(offset - index, length);\n                var position = _this._editor.getModel().getPositionAt(newOffset);\n                _this._updatePosition(position);\n            }\n        };\n        this._editor = codeEditor;\n        this._tooltipDuration = tooltipDuration;\n        this._id = \"monaco-remote-cursor-\" + widgetId;\n        this._onDisposed = onDisposed;\n        // Create the main node for the cursor element.\n        var lineHeight = getConfiguration(this._editor).lineHeight;\n        this._domNode = document.createElement(\"div\");\n        this._domNode.className = classNames('monaco-remote-cursor', className);\n        this._domNode.style.background = color;\n        this._domNode.style.height = lineHeight + \"px\";\n        // Create the tooltip element if the tooltip is enabled.\n        if (tooltipEnabled) {\n            this._tooltipNode = document.createElement(\"div\");\n            this._tooltipNode.className = classNames('monaco-remote-cursor-tooltip', tooltipClassName);\n            this._tooltipNode.style.background = color;\n            this._tooltipNode.innerText = label;\n            this._domNode.appendChild(this._tooltipNode);\n            // we only need to listen to scroll positions to update the\n            // tooltip location on scrolling.\n            this._scrollListener = this._editor.onDidScrollChange(function () {\n                _this._updateTooltipPosition();\n            });\n            if (showTooltipOnHover) {\n                this._domNode.style.pointerEvents = 'auto';\n                this._domNode.addEventListener('mouseover', function () {\n                    _this._setTooltipVisible(true);\n                });\n                this._domNode.addEventListener('mouseout', function () {\n                    _this._setTooltipVisible(false);\n                });\n            }\n        }\n        else {\n            this._tooltipNode = null;\n            this._scrollListener = null;\n        }\n        this._contentManager = new EditorContentManager_1.EditorContentManager({\n            editor: this._editor,\n            onInsert: this._onInsert,\n            onReplace: this._onReplace,\n            onDelete: this._onDelete\n        });\n        this._hideTimer = null;\n        this._editor.addContentWidget(this);\n        this._offset = -1;\n        this._disposed = false;\n    }\n    RemoteCursorWidget.prototype.hide = function () {\n        this._domNode.style.display = \"none\";\n    };\n    RemoteCursorWidget.prototype.show = function () {\n        this._domNode.style.display = \"inherit\";\n    };\n    RemoteCursorWidget.prototype.setOffset = function (offset) {\n        Validation_1.Validation.assertNumber(offset, \"offset\");\n        var position = this._editor.getModel().getPositionAt(offset);\n        this.setPosition(position);\n    };\n    RemoteCursorWidget.prototype.setPosition = function (position) {\n        var _this = this;\n        Validation_1.Validation.assertPosition(position, \"position\");\n        this._updatePosition(position);\n        if (this._tooltipNode !== null) {\n            setTimeout(function () { return _this._showTooltip(); }, 0);\n        }\n    };\n    RemoteCursorWidget.prototype.isDisposed = function () {\n        return this._disposed;\n    };\n    RemoteCursorWidget.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._editor.removeContentWidget(this);\n        if (this._scrollListener !== null) {\n            this._scrollListener.dispose();\n        }\n        this._contentManager.dispose();\n        this._disposed = true;\n        this._onDisposed();\n    };\n    RemoteCursorWidget.prototype.getId = function () {\n        return this._id;\n    };\n    RemoteCursorWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    RemoteCursorWidget.prototype.getPosition = function () {\n        return this._position;\n    };\n    RemoteCursorWidget.prototype._updatePosition = function (position) {\n        this._position = {\n            position: __assign({}, position),\n            preference: [monaco_editor_1.editor.ContentWidgetPositionPreference.EXACT]\n        };\n        this._offset = this._editor.getModel().getOffsetAt(position);\n        this._editor.layoutContentWidget(this);\n    };\n    RemoteCursorWidget.prototype._showTooltip = function () {\n        var _this = this;\n        this._setTooltipVisible(true);\n        this._hideTimer = setTimeout(function () {\n            _this._setTooltipVisible(false);\n        }, this._tooltipDuration);\n    };\n    RemoteCursorWidget.prototype._updateTooltipPosition = function () {\n        var distanceFromTop = this._domNode.offsetTop - this._editor.getScrollTop();\n        if (distanceFromTop - this._tooltipNode.offsetHeight < 5) {\n            this._tooltipNode.style.top = this._tooltipNode.offsetHeight + 2 + \"px\";\n        }\n        else {\n            this._tooltipNode.style.top = \"-\" + this._tooltipNode.offsetHeight + \"px\";\n        }\n        this._tooltipNode.style.left = \"0\";\n    };\n    RemoteCursorWidget.prototype._setTooltipVisible = function (visible) {\n        if (this._hideTimer !== null) {\n            clearTimeout(this._hideTimer);\n            this._hideTimer = null;\n        }\n        if (visible) {\n            this._updateTooltipPosition();\n            this._tooltipNode.style.opacity = \"1.0\";\n        }\n        else {\n            this._tooltipNode.style.opacity = \"0\";\n        }\n    };\n    return RemoteCursorWidget;\n}());\nexports.RemoteCursorWidget = RemoteCursorWidget;\nfunction classNames() {\n    var names = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        names[_i] = arguments[_i];\n    }\n    return names.filter(function (className) { return className != null && className.length > 0; }).join(' ');\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nexports.__esModule = true;\nvar RemoteSelection_1 = __webpack_require__(8);\nvar Validation_1 = __webpack_require__(0);\n/**\n * The RemoteSelectionManager renders remote users selections into the Monaco\n * editor using the editor's built-in decorators mechanism.\n */\nvar RemoteSelectionManager = /** @class */ (function () {\n    /**\n     * Creates a new RemoteSelectionManager with the specified options.\n     *\n     * @param options\n     *   Ths options that configure the RemoteSelectionManager.\n     */\n    function RemoteSelectionManager(options) {\n        Validation_1.Validation.assertDefined(options, \"options\");\n        this._remoteSelections = new Map();\n        this._options = options;\n        this._nextClassId = 0;\n    }\n    /**\n     * Adds a new remote selection with a unique id and the specified color.\n     *\n     * @param id\n     *   The unique id of the selection.\n     * @param color\n     *   The color to render the selection with.\n     */\n    RemoteSelectionManager.prototype.addSelection = function (id, color, label) {\n        var _this = this;\n        var onDisposed = function () {\n            _this.removeSelection(id);\n        };\n        var selection = new RemoteSelection_1.RemoteSelection(this._options.editor, id, this._nextClassId++, color, label, onDisposed);\n        this._remoteSelections.set(id, selection);\n        return selection;\n    };\n    /**\n     * Removes an existing remote selection from the editor.\n     *\n     * @param id\n     *   The unique id of the selection.\n     */\n    RemoteSelectionManager.prototype.removeSelection = function (id) {\n        var remoteSelection = this._getSelection(id);\n        if (!remoteSelection.isDisposed()) {\n            remoteSelection.dispose();\n        }\n    };\n    /**\n     * Sets the selection using zero-based text offset locations.\n     *\n     * @param id\n     *   The unique id of the selection.\n     * @param start\n     *   The starting offset of the selection.\n     * @param end\n     *   The ending offset of the selection.\n     */\n    RemoteSelectionManager.prototype.setSelectionOffsets = function (id, start, end) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.setOffsets(start, end);\n    };\n    /**\n     * Sets the selection using the Monaco Editor's IPosition (line numbers and columns)\n     * location concept.\n     *\n     * @param id\n     *   The unique id of the selection.\n     * @param start\n     *   The starting position of the selection.\n     * @param end\n     *   The ending position of the selection.\n     */\n    RemoteSelectionManager.prototype.setSelectionPositions = function (id, start, end) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.setPositions(start, end);\n    };\n    /**\n     * Shows the specified selection, if it is currently hidden.\n     *\n     * @param id\n     *   The unique id of the selection.\n     */\n    RemoteSelectionManager.prototype.showSelection = function (id) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.show();\n    };\n    /**\n     * Hides the specified selection, if it is currently shown.\n     *\n     * @param id\n     *   The unique id of the selection.\n     */\n    RemoteSelectionManager.prototype.hideSelection = function (id) {\n        var remoteSelection = this._getSelection(id);\n        remoteSelection.hide();\n    };\n    /**\n     * A helper method that gets a cursor by id, or throws an exception.\n     * @internal\n     */\n    RemoteSelectionManager.prototype._getSelection = function (id) {\n        if (!this._remoteSelections.has(id)) {\n            throw new Error(\"No such selection: \" + id);\n        }\n        return this._remoteSelections.get(id);\n    };\n    return RemoteSelectionManager;\n}());\nexports.RemoteSelectionManager = RemoteSelectionManager;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Copyright (c) 2019 Convergence Labs, Inc.\n *\n * This file is part of the Monaco Collaborative Extensions, which is\n * released under the terms of the MIT license. A copy of the MIT license\n * is usually provided as part of this source code package in the LICENCE\n * file. If it was not, please see <https://opensource.org/licenses/MIT>\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar monaco = __webpack_require__(1);\nvar Validation_1 = __webpack_require__(0);\nvar RemoteSelection = /** @class */ (function () {\n    /**\n     * Constructs a new remote selection.\n     *\n     * @internal\n     */\n    function RemoteSelection(codeEditor, id, classId, color, label, onDisposed) {\n        this._editor = codeEditor;\n        this._id = id;\n        var uniqueClassId = \"monaco-remote-selection-\" + classId;\n        this._className = \"monaco-remote-selection \" + uniqueClassId;\n        this._styleElement = RemoteSelection._addDynamicStyleElement(uniqueClassId, color);\n        this._label = label;\n        this._decorations = [];\n        this._onDisposed = onDisposed;\n    }\n    /**\n     * A helper method to add a style tag to the head of the document that will\n     * style the color of the selection. The Monaco Editor only allows setting\n     * the class name of decorations, so we can not set a style property directly.\n     * This method will create, add, and return the style tag for this element.\n     *\n     * @param className\n     *   The className to use as the css selector.\n     * @param color\n     *   The color to set for the selection.\n     * @returns\n     *   The style element that was added to the document head.\n     *\n     * @private\n     * @internal\n     */\n    RemoteSelection._addDynamicStyleElement = function (className, color) {\n        Validation_1.Validation.assertString(className, \"className\");\n        Validation_1.Validation.assertString(color, \"color\");\n        var css = (\".\" + className + \" {\\n         background-color: \" + color + \";\\n       }\").trim();\n        var styleElement = document.createElement(\"style\");\n        styleElement.innerText = css;\n        document.head.appendChild(styleElement);\n        return styleElement;\n    };\n    /**\n     * A helper method to ensure the start position is before the end position.\n     *\n     * @param start\n     *   The current start position.\n     * @param end\n     *   The current end position.\n     * @return\n     *   An object containing the correctly ordered start and end positions.\n     *\n     * @private\n     * @internal\n     */\n    RemoteSelection._swapIfNeeded = function (start, end) {\n        if (start.lineNumber < end.lineNumber || (start.lineNumber === end.lineNumber && start.column <= end.column)) {\n            return { start: start, end: end };\n        }\n        else {\n            return { start: end, end: start };\n        }\n    };\n    /**\n     * Gets the userland id of this selection.\n     */\n    RemoteSelection.prototype.getId = function () {\n        return this._id;\n    };\n    /**\n     * Gets the start position of the selection.\n     *\n     * @returns\n     *   The start position of the selection.\n     */\n    RemoteSelection.prototype.getStartPosition = function () {\n        return __assign({}, this._startPosition);\n    };\n    /**\n     * Gets the start position of the selection.\n     *\n     * @returns\n     *   The start position of the selection.\n     */\n    RemoteSelection.prototype.getEndPosition = function () {\n        return __assign({}, this._endPosition);\n    };\n    /**\n     * Sets the selection using zero-based text indices.\n     *\n     * @param start\n     *   The start offset to set the selection to.\n     * @param end\n     *   The end offset to set the selection to.\n     */\n    RemoteSelection.prototype.setOffsets = function (start, end) {\n        var startPosition = this._editor.getModel().getPositionAt(start);\n        var endPosition = this._editor.getModel().getPositionAt(end);\n        this.setPositions(startPosition, endPosition);\n    };\n    /**\n     * Sets the selection using Monaco's line-number / column coordinate system.\n     *\n     * @param start\n     *   The start position to set the selection to.\n     * @param end\n     *   The end position to set the selection to.\n     */\n    RemoteSelection.prototype.setPositions = function (start, end) {\n        // this._decorations = this._editor.deltaDecorations(this._decorations, []);\n        var ordered = RemoteSelection._swapIfNeeded(start, end);\n        this._startPosition = ordered.start;\n        this._endPosition = ordered.end;\n        this._render();\n    };\n    /**\n     * Makes the selection visible if it is hidden.\n     */\n    RemoteSelection.prototype.show = function () {\n        this._render();\n    };\n    /**\n     * Makes the selection hidden if it is visible.\n     */\n    RemoteSelection.prototype.hide = function () {\n        this._decorations = this._editor.deltaDecorations(this._decorations, []);\n    };\n    /**\n     * Determines if the selection has been permanently removed from the editor.\n     *\n     * @returns\n     *   True if the selection has been disposed, false otherwise.\n     */\n    RemoteSelection.prototype.isDisposed = function () {\n        return this._disposed;\n    };\n    /**\n     * Permanently removes the selection from the editor.\n     */\n    RemoteSelection.prototype.dispose = function () {\n        if (!this._disposed) {\n            this._styleElement.parentElement.removeChild(this._styleElement);\n            this.hide();\n            this._disposed = true;\n            this._onDisposed();\n        }\n    };\n    /**\n     * A helper method that actually renders the selection as a decoration within\n     * the Monaco Editor.\n     *\n     * @private\n     * @internal\n     */\n    RemoteSelection.prototype._render = function () {\n        this._decorations = this._editor.deltaDecorations(this._decorations, [\n            {\n                range: new monaco.Range(this._startPosition.lineNumber, this._startPosition.column, this._endPosition.lineNumber, this._endPosition.column),\n                options: {\n                    className: this._className,\n                    hoverMessage: this._label != null ? {\n                        value: this._label\n                    } : null\n                }\n            }\n        ]);\n    };\n    return RemoteSelection;\n}());\nexports.RemoteSelection = RemoteSelection;\n\n\n/***/ })\n/******/ ]);\n});"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","m","modules","__esModule","Validation","assertString","val","name","Error","assertNumber","assertDefined","assertFunction","assertPosition","lineNumber","column","JSON","stringify","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","monaco","Validation_1","EditorContentManager","insert","index","text","_suppress","_a","_options","ed","editor","remoteSourceId","position","getModel","getPositionAt","executeEdits","range","Range","forceMoveMarkers","replace","start","end","dispose","_disposer","_processChange","change","rangeOffset","rangeLength","onInsert","onReplace","onDelete","_DEFAULTS","options","_this","_onContentChanged","e","changes","forEach","onDidChangeModelContent","__export","RemoteCursor_1","RemoteCursorWidget_1","RemoteCursorManager","addCursor","id","color","label","tooltips","widgetId","_nextWidgetId","tooltipDurationMs","tooltipDuration","cursorWidget","RemoteCursorWidget","className","showTooltipOnHover","tooltipClassName","removeCursor","_cursorWidgets","set","RemoteCursor","remoteCursorWidget","_getCursor","isDisposed","setCursorPosition","setPosition","setCursorOffset","offset","setOffset","showCursor","show","hideCursor","hide","has","get","DEFAULT_OPTIONS","undefined","Map","getId","_delegate","getPosition","delegate","monaco_editor_1","EditorContentManager_1","_domNode","style","display","_editor","_updatePosition","_tooltipNode","setTimeout","_showTooltip","_disposed","removeContentWidget","_scrollListener","_contentManager","_onDisposed","_id","getDomNode","_position","preference","ContentWidgetPositionPreference","EXACT","_offset","getOffsetAt","layoutContentWidget","_setTooltipVisible","_hideTimer","_tooltipDuration","_updateTooltipPosition","offsetTop","getScrollTop","offsetHeight","top","left","visible","clearTimeout","opacity","codeEditor","tooltipEnabled","onDisposed","_onInsert","newOffset","_onReplace","Math","min","_onDelete","lineHeight","editorInstance","getConfiguration","getOption","EditorOption","document","createElement","classNames","background","height","innerText","appendChild","onDidScrollChange","pointerEvents","addEventListener","addContentWidget","names","_i","filter","join","RemoteSelection_1","RemoteSelectionManager","addSelection","selection","RemoteSelection","_nextClassId","removeSelection","_remoteSelections","remoteSelection","_getSelection","setSelectionOffsets","setOffsets","setSelectionPositions","setPositions","showSelection","hideSelection","_addDynamicStyleElement","css","trim","styleElement","head","_swapIfNeeded","getStartPosition","_startPosition","getEndPosition","_endPosition","startPosition","endPosition","ordered","_render","_decorations","deltaDecorations","_styleElement","parentElement","removeChild","_className","hoverMessage","_label","value","classId","uniqueClassId","c","d","getter","o","defineProperty","enumerable","r","Symbol","toStringTag","mode","ns","create","key","bind","object","property","moduleId","l"],"mappings":"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"}